"""Lightweight internationalisation helpers for the learner portal."""

from __future__ import annotations

from functools import lru_cache
from typing import Iterable

DEFAULT_LANGUAGE = "ENGLISH"

SUPPORTED_LANGUAGES: dict[str, dict[str, str]] = {
    "ENGLISH": {
        "label": "English",
        "icon": "ðŸ‡¦ðŸ‡º",
        "locale": "en",
        "translation_key": "English",
    },
    "CHINESE": {
        "label": "ç®€ä½“ä¸­æ–‡",
        "icon": "ðŸ‡¨ðŸ‡³",
        "locale": "zh-Hans",
        "translation_key": "Chinese",
    },
}


TRANSLATIONS: dict[str, dict[str, str]] = {
    "CHINESE": {
        "Portal Login": "é—¨æˆ·ç™»å½•",
        "Learner Practice Portal": "å­¦å‘˜ç»ƒä¹ å¹³å°",
        "Dashboard": "ä»ªè¡¨ç›˜",
        "Profile": "ä¸ªäººèµ„æ–™",
        "Availability": "å¯ç”¨æ—¶é—´",
        "Appointments": "é¢„çº¦",
        "Students": "å­¦å‘˜",
        "Student": "å­¦å‘˜",
        "Personnel": "äººå‘˜ç®¡ç†",
        "Personnel management": "äººå‘˜ç®¡ç†",
        "Personnel management Â· Learner Practice Portal": "äººå‘˜ç®¡ç† Â· å­¦å‘˜ç»ƒä¹ å¹³å°",
        "Create new accounts or reset passwords for any coach, administrator, or student.": "ä¸ºæ•™ç»ƒã€ç®¡ç†å‘˜æˆ–å­¦å‘˜åˆ›å»ºæ–°è´¦æˆ·æˆ–é‡ç½®å¯†ç ã€‚",
        "Fill in the fields that match the selected role.": "æ ¹æ®æ‰€é€‰è§’è‰²å¡«å†™å¯¹åº”ä¿¡æ¯ã€‚",
        "Sign in to the portal": "ç™»å½•é—¨æˆ·",
        "Use your registered mobile number and password to access the administrator, coach, or learner experience.": "ä½¿ç”¨æ³¨å†Œçš„æ‰‹æœºå·ç å’Œå¯†ç è®¿é—®ç®¡ç†å‘˜ã€æ•™ç»ƒæˆ–å­¦å‘˜ç•Œé¢ã€‚",
        "Mobile number": "æ‰‹æœºå·",
        "Country or region calling code": "å›½å®¶/åœ°åŒºåŒºå·",
        "Search country or code": "æœç´¢å›½å®¶æˆ–åŒºå·",
        "Local mobile number": "æœ¬åœ°æ‰‹æœºå·",
        "Digits and spaces only": "ä»…é™æ•°å­—å’Œç©ºæ ¼",
        "Password": "å¯†ç ",
        "Sign in": "ç™»å½•",
        "Register learner account": "æ³¨å†Œå­¦å‘˜è´¦æˆ·",
        "Register a learner account": "æ³¨å†Œå­¦å‘˜è´¦æˆ·",
        "Close": "å…³é—­",
        "Complete the form below to create a learner account. After registration we will sign you in automatically.": "å¡«å†™ä»¥ä¸‹è¡¨æ ¼åˆ›å»ºå­¦å‘˜è´¦æˆ·ã€‚æ³¨å†ŒæˆåŠŸåŽæˆ‘ä»¬ä¼šè‡ªåŠ¨ä¸ºæ‚¨ç™»å½•ã€‚",
        "Full name": "å§“å",
        "Email": "ç”µå­é‚®ç®±",
        "(optional)": "ï¼ˆå¯é€‰ï¼‰",
        "State or territory": "å·žæˆ–é¢†åœ°",
        "Select your state": "é€‰æ‹©æ‰€åœ¨å·ž",
        "Chooseâ€¦": "è¯·é€‰æ‹©â€¦",
        "Preferred language": "é¦–é€‰è¯­è¨€",
        "Password": "å¯†ç ",
        "Confirm password": "ç¡®è®¤å¯†ç ",
        "Submit registration": "æäº¤æ³¨å†Œ",
        "English": "è‹±è¯­",
        "Chinese": "ä¸­æ–‡",
        "Dashboard Overview": "ä»ªè¡¨ç›˜æ¦‚è§ˆ",
        "Student Dashboard": "å­¦å‘˜ä»ªè¡¨ç›˜",
        "Learner Dashboard": "å­¦ä¹ è€…ä»ªè¡¨ç›˜",
        "Welcome back, {name}. Track your bookings and latest practice progress below.": "æ¬¢è¿Žå›žæ¥ï¼Œ{name}ã€‚åœ¨è¿™é‡ŒæŸ¥çœ‹æ‚¨çš„é¢„çº¦å’Œæœ€æ–°ç»ƒä¹ è¿›åº¦ã€‚",
        "Upcoming sessions": "å³å°†åˆ°æ¥çš„è¯¾ç¨‹",
        "Start": "å¼€å§‹æ—¶é—´",
        "Coach": "æ•™ç»ƒ",
        "Location": "åœ°ç‚¹",
        "Status": "çŠ¶æ€",
        "You have no upcoming sessions booked. Check with your coach to schedule one.": "æ‚¨æš‚æ—¶æ²¡æœ‰é¢„å®šè¯¾ç¨‹ï¼Œè¯·è”ç³»æ•™ç»ƒå®‰æŽ’ã€‚",
        "Recent practice summary": "è¿‘æœŸç»ƒä¹ æ¦‚è§ˆ",
        "Last mock exam score:": "æœ€è¿‘ä¸€æ¬¡æ¨¡æ‹Ÿè€ƒè¯•æˆç»©ï¼š",
        "Last score": "æœ€è¿‘å¾—åˆ†",
        "Attempted on {date}.": "å®ŒæˆäºŽ {date}ã€‚",
        "Complete a mock exam in the learner app to see your progress here.": "åœ¨å­¦å‘˜åº”ç”¨ä¸­å®Œæˆä¸€æ¬¡æ¨¡æ‹Ÿè€ƒè¯•å³å¯åœ¨æ­¤æŸ¥çœ‹è¿›åº¦ã€‚",
        "Upcoming lessons": "å³å°†åˆ°æ¥çš„è¯¾ç¨‹",
        "No upcoming lessons scheduled.": "æ²¡æœ‰å®‰æŽ’å³å°†åˆ°æ¥çš„è¯¾ç¨‹ã€‚",
        "Latest mock exam": "æœ€è¿‘çš„æ¨¡æ‹Ÿè€ƒè¯•",
        "No mock exam history yet.": "å°šæ— æ¨¡æ‹Ÿè€ƒè¯•è®°å½•ã€‚",
        "Update profile": "æ›´æ–°èµ„æ–™",
        "Account details": "è´¦æˆ·ä¿¡æ¯",
        "Account role": "è´¦æˆ·è§’è‰²",
        "Mobile": "æ‰‹æœºå·",
        "Mobile number": "æ‰‹æœºå·",
        "City": "åŸŽå¸‚",
        "Transmission type": "å˜é€Ÿç±»åž‹",
        "Automatic (AT)": "è‡ªåŠ¨æŒ¡ï¼ˆATï¼‰",
        "Manual (MT)": "æ‰‹åŠ¨æŒ¡ï¼ˆMTï¼‰",
        "About you": "ä¸ªäººç®€ä»‹",
        "Student Profile": "å­¦å‘˜èµ„æ–™",
        "Profile settings": "èµ„æ–™è®¾ç½®",
        "Update your learner profile details and password.": "æ›´æ–°æ‚¨çš„å­¦å‘˜èµ„æ–™å’Œå¯†ç ã€‚",
        "Optional": "å¯é€‰",
        "Update password": "æ›´æ–°å¯†ç ",
        "Leave blank to keep your current password.": "ç•™ç©ºåˆ™ä¿æŒå½“å‰å¯†ç ã€‚",
        "New password": "æ–°å¯†ç ",
        "Save changes": "ä¿å­˜ä¿®æ”¹",
        "Save": "ä¿å­˜",
        "Add account": "æ·»åŠ è´¦æˆ·",
        "Add Account": "æ·»åŠ è´¦æˆ·",
        "Coach & Administrator details": "æ•™ç»ƒä¸Žç®¡ç†å‘˜ä¿¡æ¯",
        "Student details": "å­¦å‘˜ä¿¡æ¯",
        "Required for coach/admin accounts": "æ•™ç»ƒ/ç®¡ç†å‘˜è´¦æˆ·å¿…å¡«",
        "Required for student accounts": "å­¦å‘˜è´¦æˆ·å¿…å¡«",
        "Assigned coach": "åˆ†é…çš„æ•™ç»ƒ",
        "Assigned Coach": "åˆ†é…çš„æ•™ç»ƒ",
        "Unassigned": "æœªåˆ†é…",
        "Create account": "åˆ›å»ºè´¦æˆ·",
        "Coaches & Administrators": "æ•™ç»ƒä¸Žç®¡ç†å‘˜",
        "Role": "è§’è‰²",
        "Mobile": "æ‰‹æœºå·",
        "Location": "åœ°ç‚¹",
        "Update password": "æ›´æ–°å¯†ç ",
        "No coach accounts available.": "æš‚æ— æ•™ç»ƒè´¦æˆ·ã€‚",
        "Students": "å­¦å‘˜",
        "No student accounts available.": "æš‚æ— å­¦å‘˜è´¦æˆ·ã€‚",
        "No students assigned yet.": "å°šæœªåˆ†é…å­¦å‘˜ã€‚",
        "No students found.": "æœªæ‰¾åˆ°å­¦å‘˜ã€‚",
        "Name": "å§“å",
        "Email address": "ç”µå­é‚®ç®±",
        "Current password": "å½“å‰å¯†ç ",
        "New password": "æ–°å¯†ç ",
        "Confirm new password": "ç¡®è®¤æ–°å¯†ç ",
        "Save changes": "ä¿å­˜ä¿®æ”¹",
        "Only student accounts may access the learner portal.": "åªæœ‰å­¦å‘˜è´¦æˆ·æ‰èƒ½è®¿é—®å­¦å‘˜é—¨æˆ·ã€‚",
        "Please choose a valid state or territory.": "è¯·é€‰æ‹©æœ‰æ•ˆçš„å·žæˆ–é¢†åœ°ã€‚",
        "Please choose a supported language.": "è¯·é€‰æ‹©æ”¯æŒçš„è¯­è¨€ã€‚",
        "Please select a valid country calling code.": "è¯·é€‰æ‹©æœ‰æ•ˆçš„å›½å®¶/åœ°åŒºåŒºå·ã€‚",
        "Please enter a valid local mobile number.": "è¯·è¾“å…¥æœ‰æ•ˆçš„æœ¬åœ°æ‰‹æœºå·ã€‚",
        "Passwords do not match.": "ä¸¤æ¬¡å¯†ç è¾“å…¥ä¸ä¸€è‡´ã€‚",
        "Profile updated successfully!": "ä¸ªäººèµ„æ–™æ›´æ–°æˆåŠŸï¼",
        "Welcome back!": "æ¬¢è¿Žå›žæ¥ï¼",
        "Welcome back, {name}!": "æ¬¢è¿Žå›žæ¥ï¼Œ{name}ï¼",
        "Invalid mobile number or password": "æ‰‹æœºå·æˆ–å¯†ç é”™è¯¯",
        "Multiple accounts match that mobile number. Please include your country calling code.": "å­˜åœ¨å¤šä¸ªè´¦æˆ·ä½¿ç”¨è¯¥æ‰‹æœºå·ï¼Œè¯·è¾“å…¥å®Œæ•´çš„å›½å®¶/åœ°åŒºåŒºå·ã€‚",
        "Hi": "ä½ å¥½",
        "Admin": "ç®¡ç†å‘˜",
        "Please choose a supported language.": "è¯·é€‰æ‹©æ”¯æŒçš„è¯­è¨€ã€‚",
        "Language switched to {label}.": "è¯­è¨€å·²åˆ‡æ¢ä¸º{label}ã€‚",
        "Language selection": "è¯­è¨€é€‰æ‹©",
        "Logout": "é€€å‡ºç™»å½•",
        "Interface language": "ç•Œé¢è¯­è¨€",
        "Apply language": "åº”ç”¨è¯­è¨€",
        "Switch interface language": "åˆ‡æ¢ç•Œé¢è¯­è¨€",
        "Update the language for this browser session.": "æ›´æ–°æ­¤æµè§ˆå™¨ä¼šè¯çš„ç•Œé¢è¯­è¨€ã€‚",
        "Profile": "ä¸ªäººèµ„æ–™",
        "Notebook": "é”™é¢˜æœ¬",
        "Progress": "å­¦ä¹ è¿›åº¦",
        "Exams": "è€ƒè¯•",
        "Personnel": "äººå‘˜ç®¡ç†",
        "Login": "ç™»å½•",
        "Coach Dashboard": "æ•™ç»ƒä»ªè¡¨ç›˜",
        "My profile": "æˆ‘çš„èµ„æ–™",
        "My students": "æˆ‘çš„å­¦å‘˜",
        "All students": "å…¨éƒ¨å­¦å‘˜",
        "Assigned students": "åˆ†é…çš„å­¦å‘˜",
        "Assigned Students": "åˆ†é…çš„å­¦å‘˜",
        "Manage students": "ç®¡ç†å­¦å‘˜",
        "All appointments": "å…¨éƒ¨é¢„çº¦",
        "Appointments": "é¢„çº¦",
        "View appointments": "æŸ¥çœ‹é¢„çº¦",
        "Active Bookings": "è¿›è¡Œä¸­çš„é¢„çº¦",
        "Active Bookings (all coaches)": "å…¨éƒ¨æ•™ç»ƒçš„è¿›è¡Œä¸­é¢„çº¦",
        "Upcoming availability": "å³å°†åˆ°æ¥çš„æ—¶æ®µ",
        "Upcoming availability (all coaches)": "å…¨éƒ¨æ•™ç»ƒçš„å³å°†åˆ°æ¥çš„æ—¶æ®µ",
        "Upcoming availability across coaches": "æ‰€æœ‰æ•™ç»ƒçš„å³å°†åˆ°æ¥çš„æ—¶æ®µ",
        "Keep your slots up to date for easier booking.": "åŠæ—¶æ›´æ–°æ‚¨çš„å¯é¢„çº¦æ—¶æ®µï¼Œä¾¿äºŽå­¦å‘˜é¢„çº¦ã€‚",
        "Keep coach schedules up to date for easier booking.": "ä¿æŒæ•™ç»ƒè¯¾ç¨‹å®‰æŽ’æœ€æ–°ï¼Œä»¥ä¾¿å­¦å‘˜é¢„çº¦ã€‚",
        "Update availability": "æ›´æ–°å¯é¢„çº¦æ—¶æ®µ",
        "No upcoming slots. Add some in the availability tab.": "æš‚æ— å³å°†åˆ°æ¥çš„æ—¶æ®µï¼Œè¯·åœ¨å¯é¢„çº¦é¡µé¢æ·»åŠ ã€‚",
        "Total students (all coaches)": "å…¨éƒ¨æ•™ç»ƒçš„å­¦å‘˜æ€»æ•°",
        "Total Students": "å…¨éƒ¨å­¦å‘˜",
        "Administrator": "ç®¡ç†å‘˜",
        "Administrator overview:": "ç®¡ç†å‘˜æ¦‚è§ˆï¼š",
        "You are viewing aggregated insights across all coaches and students.": "æ‚¨æ­£åœ¨æŸ¥çœ‹æ‰€æœ‰æ•™ç»ƒå’Œå­¦å‘˜çš„æ±‡æ€»æ•°æ®ã€‚",
        "Back to login": "è¿”å›žç™»å½•",
        "Exam Centre": "è€ƒè¯•ä¸­å¿ƒ",
        "Exam centre": "è€ƒè¯•ä¸­å¿ƒ",
        "Choose a published paper or continue an in-progress exam.": "é€‰æ‹©å·²å‘å¸ƒçš„è¯•å·æˆ–ç»§ç»­è¿›è¡Œä¸­çš„è€ƒè¯•ã€‚",
        "Showing exam papers for state {state_code}. Questions marked \"ALL\" are shared nationally.": "å½“å‰å±•ç¤º {state_code} å·žçš„è¯•å·ï¼Œæ ‡è®°ä¸ºâ€œALLâ€çš„é¢˜ç›®ä¸ºå…¨å›½å…±äº«ã€‚",
        "Showing exam papers for state {state_code}. Questions marked ": "æ­£åœ¨æ˜¾ç¤º {state_code} å·žçš„è¯•å·ï¼Œæ ‡è®°ä¸º ",
        "Exam in progress": "è€ƒè¯•è¿›è¡Œä¸­",
        "Active session": "è¿›è¡Œä¸­çš„è€ƒè¯•",
        "Paper ID": "è¯•å·ç¼–å·",
        "Started": "å¼€å§‹äºŽ",
        "Resume exam": "ç»§ç»­è€ƒè¯•",
        "Time limit": "æ—¶é•¿é™åˆ¶",
        "minutes": "åˆ†é’Ÿ",
        "Questions": "é¢˜ç›®æ•°é‡",
        "Start exam": "å¼€å§‹è€ƒè¯•",
        "No exam papers have been published for your state yet.": "æ‚¨çš„å·žå°šæœªå‘å¸ƒè€ƒè¯•è¯•å·ã€‚",
        "Self practice": "è‡ªæˆ‘ç»ƒä¹ ",
        "Generate a personalised practice set using questions from your state bank plus any nationally shared items.": "ä»Žæ‚¨æ‰€åœ¨å·žçš„é¢˜åº“å’Œå…¨å›½å…±äº«é¢˜ç›®ä¸­ç”Ÿæˆä¸ªæ€§åŒ–ç»ƒä¹ ã€‚",
        "Number of questions": "é¢˜ç›®æ•°é‡",
        "Maximum": "æœ€å¤§",
        "Focus topic (optional)": "ä¸“é¡¹è€ƒç‚¹ï¼ˆå¯é€‰ï¼‰",
        "Topic filter (optional)": "è€ƒç‚¹ç­›é€‰ï¼ˆå¯é€‰ï¼‰",
        "e.g. safe driving": "ä¾‹å¦‚ï¼šå®‰å…¨é©¾é©¶",
        "All topics": "å…¨éƒ¨è€ƒç‚¹",
        "Start practice": "å¼€å§‹ç»ƒä¹ ",
        "Practice draws questions randomly. Re-run to refresh your set at any time.": "ç»ƒä¹ é¢˜éšæœºæŠ½å–ï¼Œéšæ—¶é‡æ–°ç”Ÿæˆæ–°çš„é¢˜ç›®ã€‚",
        "Availability": "å¯é¢„çº¦æ—¶é—´",
        "Availability management": "å¯é¢„çº¦æ—¶é—´ç®¡ç†",
        "Add a new slot": "æ–°å¢žå¯é¢„çº¦æ—¶æ®µ",
        "Start time": "å¼€å§‹æ—¶é—´",
        "yyyy/mm/dd": "å¹´/æœˆ/æ—¥",
        "yyyy/mm/dd --:--": "å¹´/æœˆ/æ—¥ æ—¶:åˆ†",
        "Duration": "æ—¶é•¿",
        "30 minutes": "30 åˆ†é’Ÿ",
        "60 minutes": "60 åˆ†é’Ÿ",
        "Meeting location": "ä¼šé¢åœ°ç‚¹",
        "Sydney Olympic Park": "æ‚‰å°¼å¥¥æž—åŒ¹å…‹å…¬å›­",
        "Select a coach": "é€‰æ‹©æ•™ç»ƒ",
        "Add slot": "æ·»åŠ æ—¶æ®µ",
        "All coach slots": "å…¨éƒ¨æ•™ç»ƒæ—¶æ®µ",
        "Your slots": "æ‚¨çš„æ—¶æ®µ",
        "Invalid start time format": "å¼€å§‹æ—¶é—´æ ¼å¼æ— æ•ˆ",
        "Slot created": "æ—¶æ®µå·²åˆ›å»º",
        "Delete this slot?": "ç¡®å®šåˆ é™¤æ­¤æ—¶æ®µï¼Ÿ",
        "Delete": "åˆ é™¤",
        "No availability yet. Add your first slot above.": "å°šæ— å¯é¢„çº¦æ—¶æ®µï¼Œè¯·å…ˆæ·»åŠ ã€‚",
        "Exam Management": "è¯•å·ç®¡ç†",
        "Exam papers": "è¯•å·åˆ—è¡¨",
        "Create papers that students can sit inside the learner portal.": "åˆ›å»ºä¾›å­¦å‘˜åœ¨é—¨æˆ·ä¸­å‚åŠ çš„è¯•å·ã€‚",
        "Filter by state": "æŒ‰å·žç­›é€‰",
        "All states": "æ‰€æœ‰å·ž",
        "Create new paper": "åˆ›å»ºæ–°è¯•å·",
        "Title": "æ ‡é¢˜",
        "Time limit (minutes)": "æ—¶é—´é™åˆ¶ï¼ˆåˆ†é’Ÿï¼‰",
        "Time limit (min)": "æ—¶é—´é™åˆ¶ï¼ˆåˆ†é’Ÿï¼‰",
        "Question selection": "è¯•é¢˜é€‰æ‹©",
        "Manual": "æ‰‹åŠ¨",
        "Automatic": "è‡ªåŠ¨",
        "Automatic (AT)": "è‡ªåŠ¨æŒ¡ï¼ˆATï¼‰",
        "Manual (MT)": "æ‰‹åŠ¨æŒ¡ï¼ˆMTï¼‰",
        "Choose questions (hold Ctrl/âŒ˜ to multi-select)": "é€‰æ‹©é¢˜ç›®ï¼ˆæŒ‰ä½ Ctrl/âŒ˜ å¯å¤šé€‰ï¼‰",
        "Questions outside the selected state are ignored automatically.": "ä¸å±žäºŽæ‰€é€‰å·žçš„é¢˜ç›®ä¼šè‡ªåŠ¨å¿½ç•¥ã€‚",
        "Questions are sampled randomly from the selected state.": "é¢˜ç›®å°†ä»Žæ‰€é€‰å·žçš„é¢˜åº“ä¸­éšæœºæŠ½å–ã€‚",
        "Number of questions": "é¢˜ç›®æ•°é‡",
        "Topic filter (optional)": "è€ƒç‚¹ç­›é€‰ï¼ˆå¯é€‰ï¼‰",
        "Create paper": "ç”Ÿæˆè¯•å·",
        "No papers have been created yet.": "å°šæœªåˆ›å»ºè¯•å·ã€‚",
        "Delete this paper?": "ç¡®å®šåˆ é™¤æ­¤è¯•å·ï¼Ÿ",
        "Upload question bank": "ä¸Šä¼ é¢˜åº“",
        "Use the Excel template to import new questions or update existing ones. Matching QIDs are updated automatically.": "ä½¿ç”¨ Excel æ¨¡æ¿å¯¼å…¥æ–°é¢˜æˆ–æ›´æ–°çŽ°æœ‰é¢˜ç›®ï¼ŒåŒ¹é…çš„ QID ä¼šè‡ªåŠ¨æ›´æ–°ã€‚",
        "Excel file (.xlsx)": "Excel æ–‡ä»¶ï¼ˆ.xlsxï¼‰",
        "Default state scope": "é»˜è®¤å·žèŒƒå›´",
        "Default language": "é»˜è®¤è¯­è¨€",
        "Upload questions": "ä¸Šä¼ é¢˜ç›®",
        "Download the template from the README to ensure column names match.": "è¯·ä»Ž README ä¸‹è½½æ¨¡æ¿ä»¥ç¡®ä¿åˆ—åä¸€è‡´ã€‚",
        "Practice Session": "ç»ƒä¹ ä¼šè¯",
        "Practice results": "ç»ƒä¹ ç»“æžœ",
        "State": "å·ž",
        "Topic": "è€ƒç‚¹",
        "Back to exam centre": "è¿”å›žè€ƒè¯•ä¸­å¿ƒ",
        "Variant questions": "å˜å¼é¢˜",
        "Variant Question Details": "å˜å¼é¢˜è¯¦æƒ…",
        "AI generate variant questions": "AIç”Ÿæˆå˜å¼é¢˜",
        "Generate variant questions by AI": "AIç”Ÿæˆå˜å¼é¢˜",
        "Review the knowledge points generated from your notebook.": "æŸ¥çœ‹ç”±é”™é¢˜æœ¬ç”Ÿæˆçš„çŸ¥è¯†ç‚¹ã€‚",
        "Back to notebook": "è¿”å›žé”™é¢˜æœ¬",
        "Generated sets": "å·²ç”Ÿæˆçš„é¢˜ç»„",
        "Knowledge point": "çŸ¥è¯†ç‚¹",
        "Generated at": "ç”Ÿæˆæ—¶é—´",
        "Variants": "å˜å¼é¢˜æ•°é‡",
        "Actions": "æ“ä½œ",
        "View details": "æŸ¥çœ‹è¯¦æƒ…",
        "Generate variants from the notebook to see them listed here.": "åœ¨é”™é¢˜æœ¬ä¸­ç”Ÿæˆå˜å¼é¢˜åŽä¼šæ˜¾ç¤ºåœ¨æ­¤å¤„ã€‚",
        "Explore variant questions covering the same knowledge point.": "æŸ¥çœ‹æ¶µç›–åŒä¸€çŸ¥è¯†ç‚¹çš„å˜å¼é¢˜ã€‚",
        "Back to variant list": "è¿”å›žå˜å¼é¢˜åˆ—è¡¨",
        "Unable to locate the base question for this request.": "æ— æ³•æ‰¾åˆ°è¯¥è¯·æ±‚å¯¹åº”çš„åŽŸé¢˜ã€‚",
        "Generate variant questions": "ç”Ÿæˆå˜å¼é¢˜",
        "Select how many variants you need and let the AI draft them for you.": "é€‰æ‹©æ‰€éœ€çš„å˜å¼é¢˜æ•°é‡ï¼Œäº¤ç»™ AI ä¸ºæ‚¨ç”Ÿæˆã€‚",
        "Variants to generate": "ç”Ÿæˆé¢˜ç›®æ•°é‡",
        "Allowed range": "å…è®¸èŒƒå›´",
        "Generate variants": "ç”Ÿæˆå˜å¼é¢˜",
        "Variant question": "å˜å¼é¢˜",
        "This variant set has no questions yet.": "è¯¥é¢˜ç»„å°šæœªåŒ…å«ä»»ä½•å˜å¼é¢˜ã€‚",
        "Select a question to generate variants.": "è¯·é€‰æ‹©ä¸€ä¸ªé¢˜ç›®æ¥ç”Ÿæˆå˜å¼é¢˜ã€‚",
        "We could not find that variant set.": "æœªæ‰¾åˆ°è¯¥å˜å¼é¢˜ç»„ã€‚",
        "The requested question does not exist.": "è¯·æ±‚çš„é¢˜ç›®ä¸å­˜åœ¨ã€‚",
        "This question is not available for your state.": "è¯¥é¢˜ç›®ä¸é€‚ç”¨äºŽæ‚¨æ‰€åœ¨çš„å·žã€‚",
        "Variant questions generated successfully.": "å˜å¼é¢˜ç”ŸæˆæˆåŠŸã€‚",
        "Refresh set": "åˆ·æ–°é¢˜ç›®",
        "Correct answer": "æ­£ç¡®ç­”æ¡ˆ",
        "Explanation": "è§£æž",
        "No practice questions found. Try generating a new set.": "æœªæ‰¾åˆ°ç»ƒä¹ é¢˜ï¼Œè¯·å°è¯•é‡æ–°ç”Ÿæˆã€‚",
        "Exam Session": "è€ƒè¯•ä¼šè¯",
        "Exam session": "è€ƒè¯•ä¼šè¯",
        "Unknown paper": "æœªçŸ¥è¯•å·",
        "Started at": "å¼€å§‹æ—¶é—´",
        "Time left": "å‰©ä½™æ—¶é—´",
        "Final score": "æœ€ç»ˆå¾—åˆ†",
        "Pass mark": "åŠæ ¼åˆ†",
        "Passed": "é€šè¿‡",
        "Not passed": "æœªé€šè¿‡",
        "Question review": "è¯•é¢˜å›žé¡¾",
        "Review filter": "ç­›é€‰æ¡ä»¶",
        "All questions": "å…¨éƒ¨é¢˜ç›®",
        "Incorrect only": "ä»…é”™é¢˜",
        "Page": "é¡µç ",
        "Your answer": "ä½ çš„ç­”æ¡ˆ",
        "No response": "æœªä½œç­”",
        "No response recorded": "æœªè®°å½•ç­”é¢˜",
        "Correct": "æ­£ç¡®",
        "Review": "å¤ä¹ ",
        "No questions match the current filter.": "æ²¡æœ‰ç¬¦åˆå½“å‰ç­›é€‰æ¡ä»¶çš„é¢˜ç›®ã€‚",
        "Review pagination": "å›žé¡¾åˆ†é¡µ",
        "Previous page": "ä¸Šä¸€é¡µ",
        "Next page": "ä¸‹ä¸€é¡µ",
        "Question": "é¢˜ç›®",
        "Submit the entire exam?": "ç¡®è®¤æäº¤æ•´ä»½è¯•å·ï¼Ÿ",
        "Submit exam": "æäº¤è¯•å·",
        "Save & stay": "ä¿å­˜å¹¶åœç•™",
        "Save & next": "ä¿å­˜å¹¶ä¸‹ä¸€é¢˜",
        "Save answer": "ä¿å­˜ç­”æ¡ˆ",
        "Exit to exam centre": "è¿”å›žè€ƒè¯•ä¸­å¿ƒ",
        "Remember": "æç¤º",
        "Question navigator": "é¢˜ç›®å¯¼èˆª",
        "Study progress": "å­¦ä¹ è¿›åº¦",
        "Track your practice and mock-exam results for each state.": "æŸ¥çœ‹å„å·žçš„ç»ƒä¹ ä¸Žæ¨¡æ‹Ÿè€ƒè¯•ç»“æžœã€‚",
        "Export CSV": "å¯¼å‡º CSV",
        "State / Territory": "å·ž / é¢†åœ°",
        "Module / Topic": "æ¨¡å— / è€ƒç‚¹",
        "All topics": "å…¨éƒ¨è€ƒç‚¹",
        "Start date": "å¼€å§‹æ—¥æœŸ",
        "End date": "ç»“æŸæ—¥æœŸ",
        "Apply filters": "åº”ç”¨ç­›é€‰",
        "Reset": "é‡ç½®",
        "Total questions": "é¢˜ç›®æ€»æ•°",
        "Completed": "å·²å®Œæˆ",
        "Correct": "ç­”å¯¹",
        "Wrong answers logged": "è®°å½•çš„é”™é¢˜",
        "Pending": "æœªå®Œæˆ",
        "Latest mock-exam score": "æœ€è¿‘ä¸€æ¬¡æ¨¡æ‹Ÿè€ƒæˆç»©",
        "â€”": "â€”",
        "Completion rate": "å®ŒæˆçŽ‡",
        "Accuracy rate": "æ­£ç¡®çŽ‡",
        "Start a practice to see progress.": "å¼€å§‹ç»ƒä¹ ä»¥æŸ¥çœ‹è¿›åº¦ã€‚",
        "Overview": "æ¦‚è§ˆ",
        "Completion across all questions that match the current filters.": "åœ¨å½“å‰ç­›é€‰æ¡ä»¶ä¸‹çš„æ•´ä½“å®Œæˆæƒ…å†µã€‚",
        "Completion": "å®Œæˆåº¦",
        "Accuracy": "å‡†ç¡®åº¦",
        "No answered questions yet.": "å°šæ— å·²ä½œç­”çš„é¢˜ç›®ã€‚",
        "Study goals": "å­¦ä¹ ç›®æ ‡",
        "Set personal completion and accuracy targets to stay on track.": "è®¾å®šä¸ªäººå®Œæˆä¸Žæ­£ç¡®çŽ‡ç›®æ ‡ï¼Œä¿æŒå­¦ä¹ èŠ‚å¥ã€‚",
        "Completion goal": "å®Œæˆç›®æ ‡",
        "On track": "è¿›åº¦è‰¯å¥½",
        "Needs focus": "éœ€è¦åŠ å¼º",
        "Accuracy goal": "å‡†ç¡®çŽ‡ç›®æ ‡",
        "Complete another %(count).1f%% of the filtered questions to reach your goal.": "å†å®Œæˆç­›é€‰é¢˜ç›®çš„ %(count).1f%% å³å¯è¾¾æˆç›®æ ‡ã€‚",
        "Improve accuracy by %(count).1f%% to hit your target.": "å‡†ç¡®çŽ‡å†æå‡ %(count).1f%% å³å¯è¾¾æˆç›®æ ‡ã€‚",
        "Completion goal (%)": "å®Œæˆç›®æ ‡ï¼ˆ%ï¼‰",
        "Accuracy goal (%)": "å‡†ç¡®çŽ‡ç›®æ ‡ï¼ˆ%ï¼‰",
        "Save goals": "ä¿å­˜ç›®æ ‡",
        "Daily trend": "æ¯æ—¥è¶‹åŠ¿",
        "Average %(questions).1f questions attempted per day with %(accuracy).1f%% accuracy.": "å¹³å‡æ¯æ—¥å®Œæˆ %(questions).1f é“é¢˜ï¼Œæ­£ç¡®çŽ‡ %(accuracy).1f%%ã€‚",
        "Date": "æ—¥æœŸ",
        "Attempted": "å·²ä½œç­”",
        "No attempts recorded in this period.": "è¯¥æ—¶é—´æ®µæš‚æ— ä½œç­”è®°å½•ã€‚",
        "Recent mock exams": "è¿‘æœŸæ¨¡æ‹Ÿè€ƒè¯•",
        "Average score %(avg).1f%% Â· Best %(best)s%%": "å¹³å‡å¾—åˆ† %(avg).1f%% Â· æœ€é«˜ %(best)s%%",
        "No mock exams in this period.": "è¯¥æ—¶é—´æ®µæš‚æ— æ¨¡æ‹Ÿè€ƒè¯•ã€‚",
        "Wrong answer recap": "é”™é¢˜å›žé¡¾",
        "Open notebook": "æ‰“å¼€é”™é¢˜æœ¬",
        "Question ID": "é¢˜ç›®ç¼–å·",
        "Topic": "è€ƒç‚¹",
        "Wrong attempts": "é”™é¢˜æ¬¡æ•°",
        "Mock exam attempts": "æ¨¡æ‹Ÿè€ƒè¯•æ¬¡æ•°",
        "No data": "æš‚æ— æ•°æ®",
        "Last reviewed": "æœ€è¿‘å¤ä¹ ",
        "Never": "ä»Žæœª",
        "No wrong answers logged for the selected filters.": "æ‰€é€‰æ¡ä»¶ä¸‹æ²¡æœ‰è®°å½•é”™é¢˜ã€‚",
        "Switch to a state to load progress data.": "è¯·é€‰æ‹©ä¸€ä¸ªå·žä»¥åŠ è½½è¿›åº¦æ•°æ®ã€‚",
        "Select a valid state before exporting progress.": "å¯¼å‡ºå‰è¯·é€‰æ‹©æœ‰æ•ˆçš„å·žã€‚",
        "Wrong answer notebook": "é”™é¢˜ç¬”è®°",
        "Revisit the questions you missed and plan targeted revisions.": "é‡æ¸©é”™é¢˜ï¼Œåˆ¶å®šé’ˆå¯¹æ€§å¤ä¹ è®¡åˆ’ã€‚",
        "Select a state to review your notebook.": "è¯·é€‰æ‹©å·žä»¥æŸ¥çœ‹é”™é¢˜ç¬”è®°ã€‚",
        "Wrong answer list": "é”™é¢˜åˆ—è¡¨",
        "Wrong answers": "é”™é¢˜",
        "Starred questions": "æ”¶è—é¢˜",
        "Starred questions saved": "å·²æ”¶è—é¢˜ç›®æ•°",
        "Starred at": "æ”¶è—æ—¶é—´",
        "No starred questions yet.": "è¿˜æ²¡æœ‰æ”¶è—çš„é¢˜ç›®ã€‚",
        "Add to notebook": "åŠ å…¥ç¬”è®°",
        "Remove from notebook": "ä»Žç¬”è®°ç§»é™¤",
        "Question added to your notebook.": "é¢˜ç›®å·²åŠ å…¥ç¬”è®°ã€‚",
        "This question is already in your notebook.": "è¯¥é¢˜ç›®å·²åœ¨ç¬”è®°ä¸­ã€‚",
        "Question removed from your notebook.": "é¢˜ç›®å·²ä»Žç¬”è®°ç§»é™¤ã€‚",
        "Question is not in your notebook.": "ç¬”è®°ä¸­æ²¡æœ‰è¯¥é¢˜ç›®ã€‚",
        "Notebook entry not found.": "æœªæ‰¾åˆ°ç¬”è®°æ¡ç›®ã€‚",
        "Notebook entry removed.": "ç¬”è®°æ¡ç›®å·²åˆ é™¤ã€‚",
        "Question not found.": "æœªæ‰¾åˆ°é¢˜ç›®ã€‚",
        "Question not available for your state.": "è¯¥é¢˜ç›®ä¸é€‚ç”¨äºŽä½ æ‰€åœ¨çš„å·žã€‚",
        "Attempts": "ç­”é¢˜æ¬¡æ•°",
        "Last wrong at": "æœ€è¿‘é”™é¢˜æ—¶é—´",
        "Prompt excerpt": "é¢˜å¹²æ‘˜è¦",
        "You have logged %(count)s wrong attempts in this state.": "è¯¥å·žå…±è®°å½• %(count)s æ¬¡é”™é¢˜ã€‚",
        "No wrong answers recorded for this state yet.": "è¯¥å·žå°šæœªè®°å½•é”™é¢˜ã€‚",
        "Coach availability": "æ•™ç»ƒå¯é¢„çº¦æ—¶é—´",
        "You are not assigned to a coach yet. Contact support to be paired before booking a session.": "å°šæœªä¸ºæ‚¨åˆ†é…æ•™ç»ƒã€‚è¯·è”ç³»æ”¯æŒå›¢é˜ŸåŽå†é¢„çº¦è¯¾ç¨‹ã€‚",
        "Sessions with coach {name}.": "ä¸Žæ•™ç»ƒ {name} çš„è¯¾ç¨‹ã€‚",
        "Book this session": "é¢„çº¦æ­¤è¯¾ç¨‹",
        "Your coach has no open times right now. Check back later or message them directly.": "æ•™ç»ƒæš‚æ—¶æ²¡æœ‰ç©ºä½™æ—¶é—´ï¼Œè¯·ç¨åŽå†æŸ¥çœ‹æˆ–ç›´æŽ¥è”ç³»æ•™ç»ƒã€‚",
        "Actions": "æ“ä½œ",
        "Cancel session": "å–æ¶ˆè¯¾ç¨‹",
        "Request cancellation": "ç”³è¯·å–æ¶ˆ",
        "Within 24 hours, your coach must approve the request.": "è·ç¦»å¼€å§‹ä¸è¶³ 24 å°æ—¶æ—¶ï¼Œéœ€è¦æ•™ç»ƒæ‰¹å‡†å–æ¶ˆè¯·æ±‚ã€‚",
        "Awaiting coach approval": "ç­‰å¾…æ•™ç»ƒæ‰¹å‡†",
        "Cancellations closed within 2 hours of start time.": "è·å¼€å§‹ä¸è¶³ 2 å°æ—¶æ— æ³•å–æ¶ˆã€‚",
        "Booked": "å·²é¢„çº¦",
        "Available": "å¯é¢„çº¦",
        "Pending cancellation": "å–æ¶ˆå¾…æ‰¹å‡†",
        "Pending Cancel": "å–æ¶ˆå¾…æ‰¹å‡†",
        "Cancelled": "å·²å–æ¶ˆ",
        "Completed": "å·²å®Œæˆ",
        "Update": "æ›´æ–°",
        "No appointments scheduled.": "æš‚æ— é¢„çº¦ã€‚",
        "No appointments yet.": "è¿˜æ²¡æœ‰é¢„çº¦ã€‚",
        "Unknown": "æœªçŸ¥",
        "Start date must be before end date.": "å¼€å§‹æ—¥æœŸå¿…é¡»æ—©äºŽç»“æŸæ—¥æœŸã€‚",
        "Goals must be numeric values.": "ç›®æ ‡å¿…é¡»ä¸ºæ•°å­—ã€‚",
        "Progress goals updated.": "å­¦ä¹ ç›®æ ‡å·²æ›´æ–°ã€‚",
        "Assign a coach before booking a session.": "é¢„çº¦å‰è¯·å…ˆåˆ†é…æ•™ç»ƒã€‚",
        "This timeslot belongs to a different coach.": "è¯¥æ—¶æ®µå±žäºŽå…¶ä»–æ•™ç»ƒã€‚",
        "This session is no longer available.": "è¯¥è¯¾ç¨‹å·²ä¸å¯ç”¨ã€‚",
        "That timeslot has already been reserved. Please choose another one.": "è¯¥æ—¶é—´æ®µå·²è¢«é¢„çº¦ï¼Œè¯·é€‰æ‹©å…¶ä»–æ—¶æ®µã€‚",
        "Session booked with {coach} on {start_time}.": "å·²é¢„çº¦ {coach} çš„è¯¾ç¨‹ï¼Œæ—¶é—´ {start_time}ã€‚",
        "This session can no longer be modified.": "è¯¥è¯¾ç¨‹å·²æ— æ³•ä¿®æ”¹ã€‚",
        "Your cancellation request is awaiting coach approval.": "å–æ¶ˆè¯·æ±‚æ­£åœ¨ç­‰å¾…æ•™ç»ƒæ‰¹å‡†ã€‚",
        "Sessions cannot be cancelled within 2 hours of the start time. Please contact your coach directly.": "è·ç¦»å¼€å§‹ä¸è¶³ 2 å°æ—¶æ— æ³•å–æ¶ˆï¼Œè¯·ç›´æŽ¥è”ç³»æ•™ç»ƒã€‚",
        "Cancellation request sent. Your coach will confirm whether the session can be released.": "å–æ¶ˆè¯·æ±‚å·²å‘é€ï¼Œæ•™ç»ƒå°†ç¡®è®¤æ˜¯å¦å¯ä»¥é‡Šæ”¾è¯¾ç¨‹ã€‚",
        "Session cancelled. The slot is now available for rebooking.": "è¯¾ç¨‹å·²å–æ¶ˆï¼Œè¯¥æ—¶æ®µå·²å¼€æ”¾å†æ¬¡é¢„çº¦ã€‚",
        "Another student account already uses that email address.": "è¯¥é‚®ç®±å·²è¢«å…¶ä»–å­¦å‘˜ä½¿ç”¨ã€‚",
        "Selected exam paper is not available for your state.": "æ‰€é€‰è¯•å·ä¸é€‚ç”¨äºŽæ‚¨çš„å·žã€‚",
        "This paper has no questions aligned with your state syllabus.": "è¯¥è¯•å·æ²¡æœ‰ç¬¦åˆæ‚¨æ‰€åœ¨å·žè¯¾ç¨‹è¦æ±‚çš„é¢˜ç›®ã€‚",
        "Exam paper has no questions configured.": "è¯•å·æœªé…ç½®ä»»ä½•é¢˜ç›®ã€‚",
        "Exam submitted successfully.": "è€ƒè¯•æäº¤æˆåŠŸã€‚",
        "Exam session already finished.": "è€ƒè¯•ä¼šè¯å·²ç»“æŸã€‚",
        "Please choose an answer option before saving.": "ä¿å­˜å‰è¯·é€‰æ‹©ç­”æ¡ˆé€‰é¡¹ã€‚",
        "Answer saved.": "ç­”æ¡ˆå·²ä¿å­˜ã€‚",
        "Question not part of this exam.": "è¯¥é¢˜ç›®ä¸å±žäºŽæœ¬æ¬¡è€ƒè¯•ã€‚",
        "No questions available for the selected criteria.": "æ‰€é€‰æ¡ä»¶ä¸‹æ²¡æœ‰å¯ç”¨é¢˜ç›®ã€‚",
        "Start a practice session from the exam hub.": "è¯·ä»Žè€ƒè¯•ä¸­å¿ƒå¼€å§‹ç»ƒä¹ ä¼šè¯ã€‚",
    }
}


def normalise_language_code(language: str | None) -> str | None:
    """Return a canonical language code if supported."""

    if not language:
        return None
    code = language.strip().upper()
    if code in SUPPORTED_LANGUAGES:
        return code
    return None


def ensure_language_code(language: str | None) -> str:
    """Return a supported language code, defaulting when unknown."""

    normalised = normalise_language_code(language)
    return normalised or DEFAULT_LANGUAGE


def translate_text(text: str, language: str, **format_values: str) -> str:
    """Translate the given string for the requested language."""

    catalogue = TRANSLATIONS.get(language, {})
    translated = catalogue.get(text, text)
    if format_values:
        try:
            return translated.format(**format_values)
        except (KeyError, IndexError):
            return translated
    return translated


@lru_cache(maxsize=None)
def get_language_choices() -> list[dict[str, str]]:
    """Return metadata describing supported languages for presentation."""

    return [
        {"code": code, **meta}
        for code, meta in SUPPORTED_LANGUAGES.items()
    ]


def language_label(language: str) -> str:
    """Return a human readable label for the given language code."""

    code = ensure_language_code(language)
    meta = SUPPORTED_LANGUAGES.get(code, SUPPORTED_LANGUAGES[DEFAULT_LANGUAGE])
    icon = meta.get("icon", "")
    label = meta.get("label", code.title())
    return f"{icon} {label}".strip()


def language_display_name(language: str, active_language: str | None = None) -> str:
    """Return the display label for ``language`` in the active locale."""

    target_code = ensure_language_code(language)
    active_code = ensure_language_code(active_language or DEFAULT_LANGUAGE)
    meta = SUPPORTED_LANGUAGES.get(target_code, {})
    translation_key = meta.get("translation_key") or meta.get("label") or target_code.title()
    return translate_text(translation_key, active_code)


def translation_catalogue(language: str) -> dict[str, str]:
    """Expose the translation mapping for templates."""

    code = ensure_language_code(language)
    return TRANSLATIONS.get(code, {})


__all__: Iterable[str] = [
    "DEFAULT_LANGUAGE",
    "SUPPORTED_LANGUAGES",
    "TRANSLATIONS",
    "ensure_language_code",
    "get_language_choices",
    "language_display_name",
    "language_label",
    "normalise_language_code",
    "translate_text",
    "translation_catalogue",
]
